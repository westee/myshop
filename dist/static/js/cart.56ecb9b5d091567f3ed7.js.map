{"version":3,"sources":["webpack:///src/components/swiper.vue","webpack:///./src/components/swiper.vue?4d8b","webpack:///./src/components/swiper.vue","webpack:///src/components/footnav.vue","webpack:///./src/components/footnav.vue?d4e8","webpack:///./src/components/footnav.vue","webpack:///./src/modules/js/api.js","webpack:///./src/modules/js/mixin.js","webpack:///./src/modules/js/cartService.js","webpack:///./src/pages/cart/cart.js","webpack:///./src/modules/js/bus.js","webpack:///./src/modules/js/fetch.js"],"names":["swiper","name","props","mounted","swiper_esm_bundle","direction","loop","pagination","el","components_swiper","render","_h","this","$createElement","_c","_self","staticClass","_l","list","index","key","attrs","href","clickUrl","src","image","_v","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","lib_default","a","parse","location","search","substring","navConfig","icon","footnav","data","currentIndex","parseInt","ob","JSON","stringify_default","obj","created","_this","setTimeout","age","bus","$emit","methods","changeIndex","item","components_footnav","_vm","class","active","on","click","$event","_s","url","indexHotList","goodsDetail","goodsDeal","indexSwiper","categoryTopList","categorySubList","categoryRank","searchList","addCart","addNum","cartList","cartReduce","cartRemove","cartMuiltRemove","addressList","addressAdd","addressRemove","addressUpdate","addressSetDefault","hasOwnProperty","__WEBPACK_IMPORTED_MODULE_0_components_footnav__","__WEBPACK_IMPORTED_MODULE_1_components_swiper__","mixin","filters","currency","price","priceStr","indexOf","arr","split","substr","components","Cart","goods","fetch","id","number","then","res","num","Vue","totalPrice","editShop","editShopIndex","computed","allSelect","set","newValue","forEach","shopitem","checked","goodsList","goodsitem","get","length","every","allSelectRemove","removeChecked","selectList","shop","push","removeList","getCartList","Axios","Api","tempList","shops","editing","editMsg","selectGood","attr","console","log","selectShop","clickSelectAll","edit","shopIndex","goodsReduce","Number","code","goodsAdd","cartService","add","goodsRemove","goodsIndex","_this2","MessageBox","title","message","showCancelButton","splice","removeShop","Toast","removeMultiGoods","_this3","ids","good","findIndex","start","event","startX","changedTouches","clientX","end","endX","left","Velocity","$refs","mixins","Mixin","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","resolve","reject","post","status","catch","error"],"mappings":"sEAgBAA,cACAC,KAAA,aACAC,OACAF,WAEAG,QALA,WAMA,IAAAC,EAAA,uBAEAC,UAAA,aACAC,MAAA,EAGAC,YACAC,GAAA,2BC1BeC,GADEC,OAFjB,WAA0B,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBE,YAAA,qBAA+BF,EAAA,OAAYE,YAAA,kBAA3HJ,KAAwJK,GAAxJL,KAAwJ,gBAAAM,EAAAC,GAA0C,OAAAL,EAAA,OAAiBM,IAAAD,EAAAH,YAAA,0BAA8CF,EAAA,KAAUE,YAAA,eAAAK,OAAkCC,KAAAJ,EAAAK,YAAsBT,EAAA,OAAYE,YAAA,0BAAAK,OAA6CG,IAAAN,EAAAO,eAAwB,GAApZb,KAAoZc,GAAA,KAAAZ,EAAA,OAA2BE,YAAA,yBAExbW,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE9B,EACAS,GATF,EAVA,SAAAsB,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,EAAAJ,EAAiB,mJCThCT,EAAAc,EAAAC,EAAAC,MAAAC,SAAAC,OAAAC,UAAA,IAAAnB,MAEAoB,IAEAtC,KAAA,KACAuC,KAAA,YACAlB,KAAA,eAEArB,KAAA,KACAuC,KAAA,gBACAlB,KAAA,kBAEArB,KAAA,MACAuC,KAAA,YACAlB,KAAA,cAEArB,KAAA,IACAuC,KAAA,YACAlB,KAAA,gBAGAmB,GACAxC,KAAA,UACAC,OAAA,OACAwC,KAHA,WAIA,OACAH,YACAI,aAAAC,SAAAzB,IAAA,EACA0B,GAAAC,KAAAX,MAAAY,IAAAnC,KAAAoC,QAGAC,QAVA,WAUA,IAAAC,EAAAtC,KACAuC,WAAA,WACAD,EAAAL,GAAAO,IAAA,GACMC,EAAA,EAANC,MAAA,oBACA,MAEAC,SACAC,YADA,SACAC,EAAAtC,GACAiB,SAAAd,KAAAmC,EAAAnC,KAAA,UAAAH,KCrDeuC,GADEhD,OAFjB,WAA0B,IAAAiD,EAAA/C,KAAaD,EAAAgD,EAAA9C,eAA0BC,EAAA6C,EAAA5C,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBE,YAAA,eAAyBF,EAAA,KAAA6C,EAAA1C,GAAA0C,EAAA,mBAAAF,EAAAtC,GAAsD,OAAAL,EAAA,MAAgB8C,OAAOC,OAAAF,EAAAhB,cAAAxB,GAAoC2C,IAAKC,MAAA,SAAAC,GAAyB,OAAAL,EAAAH,YAAAC,EAAAtC,OAAsCL,EAAA,KAAAA,EAAA,KAAkB8C,MAAAH,EAAAjB,OAAgBmB,EAAAjC,GAAA,KAAAZ,EAAA,OAAA6C,EAAAjC,GAAAiC,EAAAM,GAAAR,EAAAxD,eAAwD,MAEjY0B,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEW,EACAiB,GATF,EAVA,SAAA3B,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,EAAAJ,EAAiB,gEC1BhC,IAAIsC,GACFC,aAAc,eACdC,YAAa,cACbC,UAAU,YACVC,YAAa,gBACbC,gBAAiB,oBACjBC,gBAAiB,uBACjBC,aAAc,iBACdC,WAAY,eACZC,QAAS,eAETC,OAAQ,cACRC,SAAU,aACVC,WAAY,oBACZC,WAAY,eACZC,gBAAiB,eAEjBC,YAAa,gBACbC,WAAY,eACZC,cAAe,GACfC,cAAe,eACfC,kBAAmB,IAIrB,IAAK,IAAIjE,KAAQ8C,EACZA,EAAIoB,eAAelE,KACpB8C,EAAI9C,GAJG,4EAIW8C,EAAI9C,IAIX8C,2CC/Bf,IAAAqB,EAAA1D,EAAA,QAAA2D,EAAA3D,EAAA,QAEI4D,GACFC,SACEC,SADM,SACGC,GACP,IAAIC,EAAW,GAAKD,EACpB,GAAGC,EAASC,QAAQ,MAAQ,EAAE,CAC5B,IAAIC,EAAMF,EAASG,MAAM,KACzB,OAAOD,EAAI,GAAK,KAAOA,EAAI,GAAK,KAAKE,OAAO,EAAE,GAE9C,OAAOJ,EAAW,QAIxBK,YACEzD,YACAzC,aAGayF,mNCLFU,mFAVFC,GACT,OAAOC,YAAMnC,IAAIU,QACf0B,GAAIF,EAAME,GACVC,OAAQ,IACPC,KAAK,SAACC,GACPL,EAAMM,8FCQF,IAAIC,WACZnG,GAAI,aACJkC,MACEmC,SAAU,KACV+B,WAAY,EACZC,SAAU,KACVC,eAAgB,GAElBC,UAEEC,WAEEC,IAFS,SAELC,GACFtG,KAAKiE,SAASsC,QAAQ,SAACC,GACrBA,EAASC,QAAUH,EACnBE,EAASE,UAAUH,QAAQ,SAACI,GAC1BA,EAAUF,QAAUH,OAK1BM,IAXS,WAYP,SAAI5G,KAAKiE,WAAYjE,KAAKiE,SAAS4C,SAC1B7G,KAAKiE,SAAS6C,MAAM,SAACN,GAC1B,OAAOA,EAASC,YAQxBM,iBACEH,IADe,WAGb,QAAI5G,KAAKiG,UAEAjG,KAAKiG,SAASe,eAIzBX,IATe,SASXC,GACEtG,KAAKiG,WACPjG,KAAKiG,SAASe,cAAgBV,EAC9BtG,KAAKiG,SAASS,UAAUH,QAAQ,SAACf,GAC/BA,EAAMwB,cAAgBV,OAO9BW,WA5CQ,WA6CN,GAAIjH,KAAKiE,UAAYjE,KAAKiE,SAAS4C,OAAQ,CACzC,IAAIb,EAAa,EACbb,KAUJ,OATAnF,KAAKiE,SAASsC,QAAQ,SAACW,GACrBA,EAAKR,UAAUH,QAAQ,SAACf,GAClBA,EAAMiB,UACRT,GAAcR,EAAMR,MAAQQ,EAAMM,IAClCX,EAAIgC,KAAK3B,QAIfxF,KAAKgG,WAAaA,EACXb,EAET,UAIFiC,WA/DQ,WAgEN,GAAIpH,KAAKiG,SAAU,CACjB,IAAId,KAMJ,OALAnF,KAAKiG,SAASS,UAAUH,QAAQ,SAACf,GAC3BA,EAAMwB,eACR7B,EAAIgC,KAAK3B,KAGNL,EAET,WAGJ9C,QApFgB,WAqFdrC,KAAKqH,eAEP1E,SAKE0E,YALO,WAKO,IAAA/E,EAAAtC,KACZsH,IAAMV,IAAIW,IAAItD,UACZyB,GAAI,IACHE,KAAK,SAACC,GACP,IAAI2B,EAAW3B,EAAI/D,KAAKmC,SACxBuD,EAASjB,QAAQ,SAACkB,GAEhBA,EAAMhB,SAAU,EAEhBgB,EAAMC,SAAU,EAEhBD,EAAME,QAAU,KAChBF,EAAMT,eAAgB,EACtBS,EAAMf,UAAUH,QAAQ,SAACf,GAEvBA,EAAMiB,SAAU,EAChBjB,EAAMwB,eAAgB,MAG1B1E,EAAK2B,SAAWuD,KAQpBI,WAhCO,SAgCIpC,EAAO0B,GAChB,IAAIW,EAAO7H,KAAKiG,SAAW,gBAAkB,UAC7C6B,QAAQC,IAAIvC,EAAMqC,IAClBrC,EAAMqC,IAASrC,EAAMqC,GAErBX,EAAKW,GAAQX,EAAKR,UAAUI,MAAM,SAACH,GACjC,OAAOA,EAAUkB,MAIrBG,WA1CO,SA0CId,GACT,IAAIW,EAAO7H,KAAKiG,SAAW,gBAAkB,UAC7CiB,EAAKW,IAASX,EAAKW,GACnBX,EAAKR,UAAUH,QAAQ,SAACI,GACtBA,EAAUkB,GAAQX,EAAKW,MAK3BI,eAnDO,WAqDL,IAAIJ,EAAO7H,KAAKiG,SAAW,kBAAoB,YAE/CjG,KAAK6H,IAAS7H,KAAK6H,IAIrBK,KA3DO,SA2DFhB,EAAMiB,GACTjB,EAAKQ,SAAWR,EAAKQ,QACrBR,EAAKS,QAAUT,EAAKQ,QAAU,KAAO,KACrC1H,KAAKiG,SAAWiB,EAAKQ,QAAUR,EAAO,KACtClH,KAAKkG,cAAgBgB,EAAKQ,QAAUS,GAAa,EAEjDnI,KAAKiE,SAASsC,QAAQ,SAACC,EAAUjG,GAC3BA,GAAS4H,IACX3B,EAASmB,QAAWT,EAAKQ,QAAiB,GAAP,SAMzCU,YAzEO,SAyEK5C,GACQ,MAAdA,EAAMM,KAEVwB,IAAMV,IAAIW,IAAIrD,YACX0B,KAAK,SAACC,GACyB,MAA1BwC,OAAOxC,EAAI/D,KAAKwG,OAClB9C,EAAMM,SAMdyC,SArFO,SAqFE/C,GACPgD,EAAYC,IAAIjD,IAalBkD,YAnGO,SAmGKxB,EAAMiB,EAAW3C,EAAOmD,GAAY,IAAAC,EAAA5I,KAC9C6I,sBACEC,MAAO,KACPC,QAAS,WACTC,kBAAkB,IACjBpD,KACD,SAACC,GACa,YAARA,GACFyB,IAAMV,IAAIW,IAAIrD,YACX0B,KAAK,SAACC,GACyB,MAA1BwC,OAAOxC,EAAI/D,KAAKwG,QAClBpB,EAAKR,UAAUuC,OAAON,EAAY,GAEJ,IAA1BzB,EAAKR,UAAUG,SACjB+B,EAAK3E,SAASgF,OAAOd,EAAW,GAChCS,EAAKM,cAEPC,gBAAM,cAUpBD,WA9HO,WA+HLlJ,KAAKiG,SAAW,KAChBjG,KAAKkG,eAAiB,EACtBlG,KAAKiE,SAASsC,QAAQ,SAACW,GACrBA,EAAKQ,SAAU,EACfR,EAAKS,QAAU,QAKnByB,iBAxIO,WAwIY,IAAAC,EAAArJ,KACjB6I,sBACEC,MAAO,KACPC,iBAAkB/I,KAAKoH,WAAWP,OAAlC,UACAmC,kBAAkB,IACjBpD,KACD,SAACC,GACC,GAAY,YAARA,EAAmB,CACrB,IAAIyD,KAEJD,EAAKjC,WAAWb,QAAQ,SAAAgD,GACtBD,EAAInC,KAAKoC,EAAK7D,MAEhB4B,IAAMV,IAAIW,IAAItD,UACZqF,QACC1D,KAAK,SAAAC,GACN,IAAIV,KAEJkE,EAAKpD,SAASS,UAAUH,QAAQ,SAAAgD,IAMf,IAJHF,EAAKjC,WAAWoC,UAAU,SAAA3G,GACpC,OAAOA,EAAK6C,IAAM6D,EAAK7D,MAIvBP,EAAIgC,KAAKoC,KAITpE,EAAI0B,OAENwC,EAAKpD,SAASS,UAAYvB,GAG1BkE,EAAKpF,SAASgF,OAAOI,EAAKnD,cAAe,GACzCmD,EAAKH,oBASjBO,MApLO,SAoLDC,EAAOH,GAEXA,EAAKI,OAASD,EAAME,eAAe,GAAGC,SAExCC,IAxLO,SAwLHJ,EAAOxC,EAAMqC,EAAMpB,EAAWQ,GAChC,IAAIoB,EAAOL,EAAME,eAAe,GAAGC,QAE/BG,EAAO,IACRT,EAAKI,OAASI,EAAO,KACtBC,EAAO,SAEND,EAAOR,EAAKI,OAAU,KACvBK,EAAO,OAETC,SAASjK,KAAKkK,MAAM,SAAW/B,EAAY,IAAMQ,IAAcqB,WAGnEG,QAASC,+DC7SX,IACM3H,EAAM,IADZxB,EAAA,QACgB8E,SACDtD,iIC0BAgD,IAzBf,SAAenC,EAAIxB,GACjB,OAAO,IAAIuI,EAAA/I,EAAQ,SAACgJ,EAAQC,GAC1BjD,IAAMkD,KAAKlH,EAAIxB,GACZ8D,KAAK,SAACC,GAEL,IAAI4E,EAAS5E,EAAI/D,KAAKwG,KACR,MAAXmC,GACDH,EAAQzE,GAII,MAAX4E,IACDjJ,SAASd,KAAO,aAChB4J,EAAQzE,IAGV0E,EAAO1E,KACN6E,MAAM,SAAAC,GACPJ,EAAO1E","file":"static/js/cart.56ecb9b5d091567f3ed7.js","sourcesContent":["<template>\n  <div class=\"swiper-container\">\n    <div class=\"swiper-wrapper\">\n      <div class=\"swp-page swiper-slide\" v-for=\"list,index in swiper\" :key=\"index\">\n        <a class=\"js-no-follow\" :href=\"list.clickUrl\">\n          <img class=\"goods-main-photo fadeIn\" :src=\"list.image\">\n        </a>\n      </div>\n    </div>\n    <div class=\"swiper-pagination\"></div>\n  </div>\n</template>\n\n<script>\n  import Swiper from 'swiper'\n  import 'swiper/dist/css/swiper.min.css'\n  export default {\n    name: \"swiper.vue\",\n    props: {\n      swiper: {}\n    },\n    mounted() {\n      new Swiper ('.swiper-container', {\n        // Optional parameters\n        direction: 'horizontal',\n        loop: true,\n\n        // If we need pagination\n        pagination: {\n          el: '.swiper-pagination',\n        },\n      })\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/swiper.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"swiper-container\"},[_c('div',{staticClass:\"swiper-wrapper\"},_vm._l((_vm.swiper),function(list,index){return _c('div',{key:index,staticClass:\"swp-page swiper-slide\"},[_c('a',{staticClass:\"js-no-follow\",attrs:{\"href\":list.clickUrl}},[_c('img',{staticClass:\"goods-main-photo fadeIn\",attrs:{\"src\":list.image}})])])}),0),_vm._v(\" \"),_c('div',{staticClass:\"swiper-pagination\"})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-43112c1b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/swiper.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-43112c1b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./swiper.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./swiper.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./swiper.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-43112c1b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./swiper.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-43112c1b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/swiper.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"bottom-nav\">\n    <ul>\n      <li v-for=\"item,index in navConfig\" :class=\"{'active': currentIndex == index}\" @click=\"changeIndex(item, index)\">\n        <a>\n          <i :class=\"item.icon\"></i>\n          <div>{{item.name}}</div>\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\n  import qs from 'qs'\n  import bus from 'js/bus.js'\n\n  let {index} = qs.parse(location.search.substring(1))\n\n  let navConfig = [\n    {\n      name: '有赞',\n      icon: 'icon-home',\n      href: 'index.html'\n    }, {\n      name: '分类',\n      icon: 'icon-category',\n      href: 'category.html'\n    }, {\n      name: '购物车',\n      icon: 'icon-cart',\n      href: 'cart.html'\n    }, {\n      name: '我',\n      icon: 'icon-user',\n      href: 'member.html'\n    },\n  ]\n  export default {\n    name: \"footnav\",\n    props:['obj'],\n    data() {\n      return {\n        navConfig,\n        currentIndex: parseInt(index) || 0,\n        ob: JSON.parse(JSON.stringify(this.obj) )\n      }\n    },\n    created(){\n      setTimeout(()=>{\n        this.ob.age = 18;\n        bus.$emit('change','还没找到工作')\n      },2000)\n    },\n    methods: {\n      changeIndex(item, index) {\n        location.href = `${item.href}?index=${index}`\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/footnav.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bottom-nav\"},[_c('ul',_vm._l((_vm.navConfig),function(item,index){return _c('li',{class:{'active': _vm.currentIndex == index},on:{\"click\":function($event){return _vm.changeIndex(item, index)}}},[_c('a',[_c('i',{class:item.icon}),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(item.name))])])])}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0d9077d4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/footnav.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0d9077d4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./footnav.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./footnav.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./footnav.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0d9077d4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./footnav.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0d9077d4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/footnav.vue\n// module id = null\n// module chunks = ","let url = {\n  indexHotList: '/index/lists',\n  goodsDetail: '/pro/detail',\n  goodsDeal:'/pro/deal', //商品成交记录\n  indexSwiper: '/index/swiper',\n  categoryTopList: '/category/toplist', //分类 ==》 侧边栏 ==》 分类\n  categorySubList: '/category/secondlist', //品牌分类 && 类别分类\n  categoryRank: '/category/rank', //热销商品 && 热销店铺 && 关键字\n  searchList: '/search/list', //商品列表\n  addCart: '/pro/addcart', //添加到购物车\n\n  addNum: '/pro/addNum', //增加商品数量1 post\n  cartList: '/cart/list', //购物车列表\n  cartReduce: '/cart/multireduce', //删除减少一个商品,增加商品数量也是这个\n  cartRemove: '/cart/remove', //删除一个商品\n  cartMuiltRemove: '/cart/remove', //删除多个商品\n\n  addressList: '/address/list', // 地址列表\n  addressAdd: '/address/add', // 增加地址\n  addressRemove: '', // 删除地址\n  addressUpdate: '/address/add', // 更新地址\n  addressSetDefault: '', // 设置默认地址\n}\nlet host = 'https://nei.netease.com/api/apimock/92deac019f949d0a0d609dd8570da724/0419'\n\nfor (let key in  url) {\n  if(url.hasOwnProperty(key)){\n    url[key] = host + url[key]\n  }\n}\n\nexport default url\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/api.js","import footnav from 'components/footnav'\nimport swiper from 'components/swiper'\nlet mixin = {\n  filters:{\n    currency(price){\n      let priceStr = '' + price\n      if(priceStr.indexOf('.') > -1){\n        let arr = priceStr.split('.')\n        return arr[0] + '.' + (arr[1] + '0').substr(0,2)\n      } else {\n        return priceStr + '.00'\n      }\n    }\n  },\n  components:{\n    footnav,\n    swiper\n  }\n}\nexport  default  mixin\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/mixin.js","import url from 'js/api.js'\r\nimport fetch from \"./fetch\";\r\n\r\nclass Cart {\r\n  static add(goods) {\r\n    return fetch(url.addNum, {\r\n      id: goods.id,\r\n      number: 1\r\n    }).then((res)=>{\r\n      goods.num++\r\n    })\r\n  }\r\n}\r\n\r\nexport default Cart\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/cartService.js","import './cart.css'\nimport './cart_base.css'\nimport './cart_trade.css'\nimport cartService from 'js/cartService'\nimport fetch from 'js/fetch'\n\nimport Vue from 'vue'\nimport Axios from 'axios'\nimport Mixin from 'js/mixin.js'\nimport Api from 'js/api.js'\nimport {\n  MessageBox,\n  Toast\n} from 'mint-ui';\nimport 'mint-ui/lib/style.min.css'\nimport 'velocity-animate'\n\nlet app = new Vue({\n  el: '.container',\n  data: {\n    cartList: null, // 购物车商品列表\n    totalPrice: 0, // 选中商品总价\n    editShop: null, // 被编辑的商店的商品信息\n    editShopIndex: -1 // 选中的第几个店铺； -1 === 未选中\n  },\n  computed: {\n    // 全选\n    allSelect: {\n      //点击全选时的操作\n      set(newValue) {\n        this.cartList.forEach((shopitem) => {\n          shopitem.checked = newValue\n          shopitem.goodsList.forEach((goodsitem) => {\n            goodsitem.checked = newValue\n          })\n        })\n      },\n      // 获取全选的状态\n      get() {\n        if (this.cartList && this.cartList.length) {\n          return this.cartList.every((shopitem) => {\n            return shopitem.checked\n          })\n        }\n        return false\n      }\n    },\n\n    // 编辑状态删除时的操作\n    allSelectRemove: {\n      get() {\n        // 某店铺处于编辑状态\n        if (this.editShop) {\n          // 当前店铺是否被选中\n          return this.editShop.removeChecked\n        }\n        return false\n      },\n      set(newValue) {\n        if (this.editShop) {\n          this.editShop.removeChecked = newValue\n          this.editShop.goodsList.forEach((goods) => {\n            goods.removeChecked = newValue\n          })\n        }\n      },\n    },\n\n    // 选中的列表\n    selectList() {\n      if (this.cartList && this.cartList.length) {\n        let totalPrice = 0\n        let arr = []\n        this.cartList.forEach((shop) => {\n          shop.goodsList.forEach((goods) => {\n            if (goods.checked) {\n              totalPrice += goods.price * goods.num\n              arr.push(goods)\n            }\n          })\n        })\n        this.totalPrice = totalPrice\n        return arr\n      }\n      return []\n    },\n\n    // 选中要删除的商品\n    removeList() {\n      if (this.editShop) {\n        let arr = []\n        this.editShop.goodsList.forEach((goods) => {\n          if (goods.removeChecked) {\n            arr.push(goods)\n          }\n        })\n        return arr\n      }\n      return []\n    }\n  },\n  created() {\n    this.getCartList()\n  },\n  methods: {\n    /**\n     * 获取购物车中的商品数据\n     * 添加选中、编辑状态\n     */\n    getCartList() {\n      Axios.get(Api.cartList, {\n        id: 1\n      }).then((res) => {\n        let tempList = res.data.cartList\n        tempList.forEach((shops) => {\n          //给商店添加选中信息\n          shops.checked = true\n          // 编辑状态\n          shops.editing = false\n          // 编辑状态的展示信息\n          shops.editMsg = '编辑'\n          shops.removeChecked = false\n          shops.goodsList.forEach((goods) => {\n            //给商品添加选中信息\n            goods.checked = true\n            goods.removeChecked = false\n          })\n        })\n        this.cartList = tempList\n      })\n    },\n\n    /**\n     * 选中或反选商品\n     * @goods Object 单个商品的data\n     */\n    selectGood(goods, shop) {\n      let attr = this.editShop ? 'removeChecked' : 'checked'\n      console.log(goods[attr])\n      goods[attr] = !goods[attr]\n      // 商铺下的所有商品被选中返回true，否则返回false\n      shop[attr] = shop.goodsList.every((goodsitem) => {\n        return goodsitem[attr]\n      })\n    },\n\n    selectShop(shop) {\n      let attr = this.editShop ? 'removeChecked' : 'checked'\n      shop[attr] = !shop[attr]\n      shop.goodsList.forEach((goodsitem) => {\n        goodsitem[attr] = shop[attr]\n      })\n    },\n\n    // 点击全选按钮\n    clickSelectAll() {\n      // 根据有无editshop对象判断是普通状态下还是编辑状态\n      let attr = this.editShop ? 'allSelectRemove' : 'allSelect'\n      // 执行相应computed\n      this[attr] = !this[attr]\n    },\n\n    // 编辑状态\n    edit(shop, shopIndex) {\n      shop.editing = !shop.editing\n      shop.editMsg = shop.editing ? '完成' : '编辑'\n      this.editShop = shop.editing ? shop : null\n      this.editShopIndex = shop.editing ? shopIndex : -1\n\n      this.cartList.forEach((shopitem, index) => {\n        if (index != shopIndex) {\n          shopitem.editMsg = !shop.editing ? '编辑' : ''\n        }\n      })\n    },\n\n    // 检测输入的产品数量\n    goodsReduce(goods) {\n      if (goods.num === '1') return\n\n      Axios.get(Api.cartReduce)\n        .then((res) => {\n          if (Number(res.data.code) === 200) {\n            goods.num--\n          }\n        })\n    },\n\n    // 增加商品数量\n    goodsAdd(goods) {\n      cartService.add(goods)\n      // Axios.post(Api.addNum,{\n      //   id: goods.id,\n      //   number: 1\n      // })\n      //   .then((res) => {\n      //     if (Number(res.data.code) === 200) {\n      //       goods.num++\n      //     }\n      //   })\n    },\n\n    // 删除单个商品\n    goodsRemove(shop, shopIndex, goods, goodsIndex) {\n      MessageBox({\n        title: '提示',\n        message: '确定执行此操作?',\n        showCancelButton: true\n      }).then(\n        (res) => {\n          if (res === 'confirm') {\n            Axios.get(Api.cartReduce)\n              .then((res) => {\n                if (Number(res.data.code) === 200) {\n                  shop.goodsList.splice(goodsIndex, 1)\n                  // 店铺下没有商品后\n                  if (shop.goodsList.length === 0) {\n                    this.cartList.splice(shopIndex, 1)\n                    this.removeShop()\n                  }\n                  Toast('删除成功');\n                }\n              })\n          } else {\n\n          }\n        })\n    },\n\n    // 删除店铺下的所有商品后将其他店铺edit状态改为默认状态\n    removeShop() {\n      this.editShop = null\n      this.editShopIndex = -1\n      this.cartList.forEach((shop) => {\n        shop.editing = false\n        shop.editMsg = '编辑'\n      })\n    },\n\n    // 移除多个商品\n    removeMultiGoods() {\n      MessageBox({\n        title: '提示',\n        message: `确定将所选 ${this.removeList.length} 个商品删除？`,\n        showCancelButton: true\n      }).then(\n        (res) => {\n          if (res === 'confirm') {\n            let ids = []\n            // 计算属性 返回编辑状态下被选中的商品\n            this.removeList.forEach(good => {\n              ids.push(good.id)\n            })\n            Axios.get(Api.cartList, {\n              ids\n            }).then(res => {\n              let arr = []\n              // 选中商店下的商品\n              this.editShop.goodsList.forEach(good => {\n              // findIndex() 方法返回传入一个测试条件（函数）符合条件的数组第一个元素位置。\n                let index = this.removeList.findIndex(item => {\n                  return item.id == good.id\n                })\n                // 如果商品没被选中\n                if (index === -1) {\n                  arr.push(good)\n                }\n              })\n              // 如果被编辑的商铺中还有商品没有被选中\n              if (arr.length) {\n                // 用没被删除的商品覆盖原有数据 ===》 删除选中的商品\n                this.editShop.goodsList = arr\n              } else {\n                // 如果一个商店下的商品全被选中，删除时从cartList删除从editShopIndex开始的一个数据。\n                this.cartList.splice(this.editShopIndex, 1)\n                this.removeShop()\n              }\n            })\n          }\n\n        })\n\n    },\n\n    start(event, good){\n      // 开始X坐标\n      good.startX = event.changedTouches[0].clientX\n    },\n    end(event, shop, good, shopIndex, goodsIndex){\n      let endX = event.changedTouches[0].clientX\n      // 确定删除键的位置\n      let left = '0'\n      if(good.startX - endX > 60){\n        left = '-60px'\n      }\n      if(endX - good.startX  > 60){\n        left = '0px'\n      }\n      Velocity(this.$refs['goods-' + shopIndex + '-' + goodsIndex], {left})\n    },\n  },\n  mixins: [Mixin]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cart/cart.js","import Vue from 'vue'\r\nconst bus = new Vue()\r\nexport default bus\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/bus.js","import Axios from 'axios'\r\n\r\n\r\nfunction fetch(url,data){\r\n  return new Promise((resolve,reject)=>{\r\n    Axios.post(url,data)\r\n      .then((res)=>{\r\n        \r\n        let status = res.data.code\r\n        if(status === 200){\r\n          resolve(res)\r\n        }\r\n\r\n        // 未登录\r\n        if(status === 300){\r\n          location.href = 'login.html'\r\n          resolve(res)\r\n        }\r\n\r\n        reject(res)\r\n      }).catch(error =>{\r\n        reject(res)\r\n      })\r\n\r\n  })\r\n\r\n}\r\n\r\nexport default fetch\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/fetch.js"],"sourceRoot":""}