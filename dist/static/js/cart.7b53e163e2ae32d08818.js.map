{"version":3,"sources":["webpack:///src/components/swiper.vue","webpack:///./src/components/swiper.vue?4d8b","webpack:///./src/components/swiper.vue","webpack:///src/components/footnav.vue","webpack:///./src/components/footnav.vue?f093","webpack:///./src/components/footnav.vue","webpack:///./src/modules/js/api.js","webpack:///./src/modules/js/mixin.js","webpack:///./src/modules/js/fetch.js","webpack:///./src/modules/js/cartService.js","webpack:///./src/pages/cart/cart.js"],"names":["swiper","name","props","mounted","swiper_esm_bundle","direction","loop","pagination","el","components_swiper","render","_h","this","$createElement","_c","_self","staticClass","_l","list","index","key","attrs","href","clickUrl","src","image","_v","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","a","parse","location","search","substring","navConfig","icon","footnav","data","currentIndex","parseInt","methods","changeIndex","item","components_footnav","_vm","class","active","on","click","$event","_s","url","indexHotList","goodsDetail","goodsDeal","indexSwiper","categoryTopList","categorySubList","categoryRank","searchList","addCart","addNum","cartList","cartReduce","cartRemove","cartMuiltRemove","hasOwnProperty","__WEBPACK_IMPORTED_MODULE_0_components_footnav__","__WEBPACK_IMPORTED_MODULE_1_components_swiper__","mixin","filters","currency","price","priceStr","indexOf","arr","split","substr","components","fetch","promise_default","resolve","reject","Axios","post","then","res","status","code","catch","error","Cart","goods","id","number","num","Vue","totalPrice","editShop","editShopIndex","computed","allSelect","set","newValue","forEach","shopitem","checked","goodsList","goodsitem","get","length","every","allSelectRemove","removeChecked","selectList","shop","push","removeList","created","getCartList","_this","Api","tempList","shops","editing","editMsg","selectGood","attr","console","log","selectShop","clickSelectAll","edit","shopIndex","goodsReduce","Number","goodsAdd","cartService","add","goodsRemove","goodsIndex","_this2","MessageBox","title","message","showCancelButton","splice","removeShop","Toast","removeMultiGoods","_this3","ids","good","findIndex","start","event","startX","changedTouches","clientX","end","endX","left","Velocity","$refs","mixins","Mixin"],"mappings":"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","file":"static/js/cart.7b53e163e2ae32d08818.js","sourcesContent":["<template>\n  <div class=\"swiper-container\">\n    <div class=\"swiper-wrapper\">\n      <div class=\"swp-page swiper-slide\" v-for=\"list,index in swiper\" :key=\"index\">\n        <a class=\"js-no-follow\" :href=\"list.clickUrl\">\n          <img class=\"goods-main-photo fadeIn\" :src=\"list.image\">\n        </a>\n      </div>\n    </div>\n    <div class=\"swiper-pagination\"></div>\n  </div>\n</template>\n\n<script>\n  import Swiper from 'swiper'\n  import 'swiper/dist/css/swiper.min.css'\n  export default {\n    name: \"swiper.vue\",\n    props: {\n      swiper: {}\n    },\n    mounted() {\n      new Swiper ('.swiper-container', {\n        // Optional parameters\n        direction: 'horizontal',\n        loop: true,\n\n        // If we need pagination\n        pagination: {\n          el: '.swiper-pagination',\n        },\n      })\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/swiper.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"swiper-container\"},[_c('div',{staticClass:\"swiper-wrapper\"},_vm._l((_vm.swiper),function(list,index){return _c('div',{key:index,staticClass:\"swp-page swiper-slide\"},[_c('a',{staticClass:\"js-no-follow\",attrs:{\"href\":list.clickUrl}},[_c('img',{staticClass:\"goods-main-photo fadeIn\",attrs:{\"src\":list.image}})])])}),0),_vm._v(\" \"),_c('div',{staticClass:\"swiper-pagination\"})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-43112c1b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/swiper.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-43112c1b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./swiper.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./swiper.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./swiper.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-43112c1b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./swiper.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-43112c1b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/swiper.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"bottom-nav\">\n    <ul>\n      <li v-for=\"item,index in navConfig\" :class=\"{'active': currentIndex == index}\" @click=\"changeIndex(item, index)\">\n        <a>\n          <i :class=\"item.icon\"></i>\n          <div>{{item.name}}</div>\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\n  import qs from 'qs'\n\n  let {index} = qs.parse(location.search.substring(1))\n\n  let navConfig = [\n    {\n      name: '有赞',\n      icon: 'icon-home',\n      href: 'index.html'\n    }, {\n      name: '分类',\n      icon: 'icon-category',\n      href: 'category.html'\n    }, {\n      name: '购物车',\n      icon: 'icon-cart',\n      href: 'cart.html'\n    }, {\n      name: '我',\n      icon: 'icon-user',\n      href: 'member.html'\n    },\n  ]\n  export default {\n    name: \"footnav\",\n    data() {\n      return {\n        navConfig,\n        currentIndex: parseInt(index) || 0\n      }\n    },\n    methods: {\n      changeIndex(item, index) {\n        location.href = `${item.href}?index=${index}`\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/footnav.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bottom-nav\"},[_c('ul',_vm._l((_vm.navConfig),function(item,index){return _c('li',{class:{'active': _vm.currentIndex == index},on:{\"click\":function($event){return _vm.changeIndex(item, index)}}},[_c('a',[_c('i',{class:item.icon}),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(item.name))])])])}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fd4bc9ae\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/footnav.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fd4bc9ae\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./footnav.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./footnav.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./footnav.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fd4bc9ae\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./footnav.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fd4bc9ae\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/footnav.vue\n// module id = null\n// module chunks = ","let url = {\n  indexHotList: '/index/lists',\n  goodsDetail: '/pro/detail',\n  goodsDeal:'/pro/deal', //商品成交记录\n  indexSwiper: '/index/swiper',\n  categoryTopList: '/category/toplist', //分类 ==》 侧边栏 ==》 分类\n  categorySubList: '/category/secondlist', //品牌分类 && 类别分类\n  categoryRank: '/category/rank', //热销商品 && 热销店铺 && 关键字\n  searchList: '/search/list', //商品列表\n  addCart: '/pro/addcart', //添加到购物车\n\n  addNum: '/pro/addNum', //增加商品数量1 post\n  cartList: '/cart/list', //购物车列表\n  cartReduce: '/cart/multireduce', //删除减少一个商品,增加商品数量也是这个\n  cartRemove: '/cart/remove', //删除一个商品\n  cartMuiltRemove: '/cart/remove' //删除多个商品\n}\nlet host = 'https://nei.netease.com/api/apimock/92deac019f949d0a0d609dd8570da724/0419'\n\nfor (let key in  url) {\n  if(url.hasOwnProperty(key)){\n    url[key] = host + url[key]\n  }\n}\n\nexport default url\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/api.js","import footnav from 'components/footnav'\nimport swiper from 'components/swiper'\nlet mixin = {\n  filters:{\n    currency(price){\n      let priceStr = '' + price\n      if(priceStr.indexOf('.') > -1){\n        let arr = priceStr.split('.')\n        return arr[0] + '.' + (arr[1] + '0').substr(0,2)\n      } else {\n        return priceStr + '.00'\n      }\n    }\n  },\n  components:{\n    footnav,\n    swiper\n  }\n}\nexport  default  mixin\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/mixin.js","import Axios from 'axios'\r\n\r\n\r\nfunction fetch(url,data){\r\n  return new Promise((resolve,reject)=>{\r\n    Axios.post(url,data)\r\n      .then((res)=>{\r\n        let status = res.data.code\r\n        if(status === 200){\r\n          resolve(res)\r\n        }\r\n\r\n        // 未登录\r\n        if(status === 300){\r\n          location.href = 'login.html'\r\n          resolve(res)\r\n        }\r\n\r\n        reject(res)\r\n      }).catch(error =>{\r\n        reject(res)\r\n      })\r\n\r\n  })\r\n\r\n}\r\n\r\nexport default fetch\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/fetch.js","import url from 'js/api.js'\r\nimport fetch from \"./fetch\";\r\n\r\nclass Cart {\r\n  static add(goods) {\r\n    return fetch(url.addNum, {\r\n      id: goods.id,\r\n      number: 1\r\n    }).then((res)=>{\r\n      goods.num++\r\n    })\r\n  }\r\n}\r\n\r\nexport default Cart\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/cartService.js","import './cart.css'\nimport './cart_base.css'\nimport './cart_trade.css'\nimport cartService from 'js/cartService'\nimport fetch from 'js/fetch'\n\nimport Vue from 'vue'\nimport Axios from 'axios'\nimport Mixin from 'js/mixin.js'\nimport Api from 'js/api.js'\nimport {\n  MessageBox,\n  Toast\n} from 'mint-ui';\nimport 'mint-ui/lib/style.min.css'\nimport 'velocity-animate'\n\nlet app = new Vue({\n  el: '.container',\n  data: {\n    cartList: null, // 购物车商品列表\n    totalPrice: 0, // 选中商品总价\n    editShop: null, // 被编辑的商店的商品信息\n    editShopIndex: -1 // 选中的第几个店铺； -1 === 未选中\n  },\n  computed: {\n    // 全选\n    allSelect: {\n      //点击全选时的操作\n      set(newValue) {\n        this.cartList.forEach((shopitem) => {\n          shopitem.checked = newValue\n          shopitem.goodsList.forEach((goodsitem) => {\n            goodsitem.checked = newValue\n          })\n        })\n      },\n      // 获取全选的状态\n      get() {\n        if (this.cartList && this.cartList.length) {\n          return this.cartList.every((shopitem) => {\n            return shopitem.checked\n          })\n        }\n        return false\n      }\n    },\n\n    // 编辑状态删除时的操作\n    allSelectRemove: {\n      get() {\n        // 某店铺处于编辑状态\n        if (this.editShop) {\n          // 当前店铺是否被选中\n          return this.editShop.removeChecked\n        }\n        return false\n      },\n      set(newValue) {\n        if (this.editShop) {\n          this.editShop.removeChecked = newValue\n          this.editShop.goodsList.forEach((goods) => {\n            goods.removeChecked = newValue\n          })\n        }\n      },\n    },\n\n    // 选中的列表\n    selectList() {\n      if (this.cartList && this.cartList.length) {\n        let totalPrice = 0\n        let arr = []\n        this.cartList.forEach((shop) => {\n          shop.goodsList.forEach((goods) => {\n            if (goods.checked) {\n              totalPrice += goods.price * goods.num\n              arr.push(goods)\n            }\n          })\n        })\n        this.totalPrice = totalPrice\n        return arr\n      }\n      return []\n    },\n\n    // 选中要删除的商品\n    removeList() {\n      if (this.editShop) {\n        let arr = []\n        this.editShop.goodsList.forEach((goods) => {\n          if (goods.removeChecked) {\n            arr.push(goods)\n          }\n        })\n        return arr\n      }\n      return []\n    }\n  },\n  created() {\n    this.getCartList()\n  },\n  methods: {\n    /**\n     * 获取购物车中的商品数据\n     * 添加选中、编辑状态\n     */\n    getCartList() {\n      Axios.get(Api.cartList, {\n        id: 1\n      }).then((res) => {\n        let tempList = res.data.cartList\n        tempList.forEach((shops) => {\n          //给商店添加选中信息\n          shops.checked = true\n          // 编辑状态\n          shops.editing = false\n          // 编辑状态的展示信息\n          shops.editMsg = '编辑'\n          shops.removeChecked = false\n          shops.goodsList.forEach((goods) => {\n            //给商品添加选中信息\n            goods.checked = true\n            goods.removeChecked = false\n          })\n        })\n        this.cartList = tempList\n      })\n    },\n\n    /**\n     * 选中或反选商品\n     * @goods Object 单个商品的data\n     */\n    selectGood(goods, shop) {\n      let attr = this.editShop ? 'removeChecked' : 'checked'\n      console.log(goods[attr])\n      goods[attr] = !goods[attr]\n      // 商铺下的所有商品被选中返回true，否则返回false\n      shop[attr] = shop.goodsList.every((goodsitem) => {\n        return goodsitem[attr]\n      })\n    },\n\n    selectShop(shop) {\n      let attr = this.editShop ? 'removeChecked' : 'checked'\n      shop[attr] = !shop[attr]\n      shop.goodsList.forEach((goodsitem) => {\n        goodsitem[attr] = shop[attr]\n      })\n    },\n\n    // 点击全选按钮\n    clickSelectAll() {\n      // 根据有无editshop对象判断是普通状态下还是编辑状态\n      let attr = this.editShop ? 'allSelectRemove' : 'allSelect'\n      // 执行相应computed\n      this[attr] = !this[attr]\n    },\n\n    // 编辑状态\n    edit(shop, shopIndex) {\n      shop.editing = !shop.editing\n      shop.editMsg = shop.editing ? '完成' : '编辑'\n      this.editShop = shop.editing ? shop : null\n      this.editShopIndex = shop.editing ? shopIndex : -1\n\n      this.cartList.forEach((shopitem, index) => {\n        if (index != shopIndex) {\n          shopitem.editMsg = !shop.editing ? '编辑' : ''\n        }\n      })\n    },\n\n    // 检测输入的产品数量\n    goodsReduce(goods) {\n      if (goods.num === '1') return\n\n      Axios.get(Api.cartReduce)\n        .then((res) => {\n          if (Number(res.data.code) === 200) {\n            goods.num--\n          }\n        })\n    },\n\n    // 增加商品数量\n    goodsAdd(goods) {\n      cartService.add(goods)\n      // Axios.post(Api.addNum,{\n      //   id: goods.id,\n      //   number: 1\n      // })\n      //   .then((res) => {\n      //     if (Number(res.data.code) === 200) {\n      //       goods.num++\n      //     }\n      //   })\n    },\n\n    // 删除单个商品\n    goodsRemove(shop, shopIndex, goods, goodsIndex) {\n      MessageBox({\n        title: '提示',\n        message: '确定执行此操作?',\n        showCancelButton: true\n      }).then(\n        (res) => {\n          if (res === 'confirm') {\n            Axios.get(Api.cartReduce)\n              .then((res) => {\n                if (Number(res.data.code) === 200) {\n                  shop.goodsList.splice(goodsIndex, 1)\n                  // 店铺下没有商品后\n                  if (shop.goodsList.length === 0) {\n                    this.cartList.splice(shopIndex, 1)\n                    this.removeShop()\n                  }\n                  Toast('删除成功');\n                }\n              })\n          } else {\n\n          }\n        })\n    },\n\n    // 删除店铺下的所有商品后将其他店铺edit状态改为默认状态\n    removeShop() {\n      this.editShop = null\n      this.editShopIndex = -1\n      this.cartList.forEach((shop) => {\n        shop.editing = false\n        shop.editMsg = '编辑'\n      })\n    },\n\n    // 移除多个商品\n    removeMultiGoods() {\n      MessageBox({\n        title: '提示',\n        message: `确定将所选 ${this.removeList.length} 个商品删除？`,\n        showCancelButton: true\n      }).then(\n        (res) => {\n          if (res === 'confirm') {\n            let ids = []\n            // 计算属性 返回编辑状态下被选中的商品\n            this.removeList.forEach(good => {\n              ids.push(good.id)\n            })\n            Axios.get(Api.cartList, {\n              ids\n            }).then(res => {\n              let arr = []\n              // 选中商店下的商品\n              this.editShop.goodsList.forEach(good => {\n              // findIndex() 方法返回传入一个测试条件（函数）符合条件的数组第一个元素位置。\n                let index = this.removeList.findIndex(item => {\n                  return item.id == good.id\n                })\n                // 如果商品没被选中\n                if (index === -1) {\n                  arr.push(good)\n                }\n              })\n              // 如果被编辑的商铺中还有商品没有被选中\n              if (arr.length) {\n                // 用没被删除的商品覆盖原有数据 ===》 删除选中的商品\n                this.editShop.goodsList = arr\n              } else {\n                // 如果一个商店下的商品全被选中，删除时从cartList删除从editShopIndex开始的一个数据。\n                this.cartList.splice(this.editShopIndex, 1)\n                this.removeShop()\n              }\n            })\n          }\n\n        })\n\n    },\n\n    start(event, good){\n      // 开始X坐标\n      good.startX = event.changedTouches[0].clientX\n    },\n    end(event, shop, good, shopIndex, goodsIndex){\n      let endX = event.changedTouches[0].clientX\n      // 确定删除键的位置\n      let left = '0'\n      if(good.startX - endX > 60){\n        left = '-60px'\n      }\n      if(endX - good.startX  > 60){\n        left = '0px'\n      }\n      Velocity(this.$refs['goods-' + shopIndex + '-' + goodsIndex], {left})\n    },\n  },\n  mixins: [Mixin]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cart/cart.js"],"sourceRoot":""}